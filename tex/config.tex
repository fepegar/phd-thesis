% Mostly from Tom Vercauteren's thesis

\makeatletter
\title{Data-driven computational methods to improve the treatment of epilepsy}\let\thetitle\@title
\author{Fernando Pérez García}\let\theauthor\@author
\makeatother


\providecommand{\draftnote}{}
\makeatletter

% redefines chapter marks to use
% the chapter number only in mainmatter
\def\chaptermark#1{%
 \markboth {\MakeUppercase{%
 \ifnum \c@secnumdepth >\m@ne
  \if@mainmatter
   \@chapapp\ \thechapter. \ %
  \fi
 \fi
#1}}
{\ifnum \c@secnumdepth >\m@ne
  \if@mainmatter
   \@chapapp\ \thechapter. \ %
  \fi
 \fi
#1}}%

\if@twoside
 % Page number (boldface) in left on even
 % pages and right on odd pages
 \fancyhead[LE,RO]{\bfseries\thepage}
 % Chapter in the right on even pages
 \fancyhead[RE]{\bfseries\nouppercase{\leftmark}}
 % Section in the left on odd pages
 \fancyhead[LO]{\bfseries\nouppercase{\rightmark}}

 % Draft mark
 \fancyfoot[LE,RO]{\draftnote}

 % Page number and draft mark on plain pages
 \fancypagestyle{plain}{
   \fancyhf{} % clear all header and footer fields
   \fancyfoot[C]{\bfseries\thepage}
   \fancyfoot[LE,RO]{\draftnote}
   \renewcommand{\headrulewidth}{0pt}
 }

 % Draft mark on 'empty' pages
 \fancypagestyle{empty}{
   \fancyhf{} % clear all header and footer fields
   \fancyfoot[LE,RO]{\draftnote}
   \renewcommand{\headrulewidth}{0pt}
 }
\else
 \fancyhead[R]{\bfseries\thepage}
 \fancyhead[L]{\bfseries\nouppercase{\leftmark}}
 \fancyfoot[R]{\draftnote}
 \fancypagestyle{plain}{
   \fancyhf{} % clear all header and footer fields
   \fancyfoot[C]{\bfseries\thepage}
   \fancyfoot[R]{\draftnote}
   \renewcommand{\headrulewidth}{0pt}
 }
 \fancypagestyle{empty}{
   \fancyhf{} % clear all header and footer fields
   \fancyfoot[R]{\draftnote}
   \renewcommand{\headrulewidth}{0pt}
 }
\fi
\makeatother

% Clear Header Style on the Last Empty Odd pages
\makeatletter
\def\cleardoublepage{\clearpage\if@twoside \ifodd\c@page\else%
  \hbox{}%
  \thispagestyle{empty}%              % Empty header styles
  \newpage%
  \if@twocolumn\hbox{}\newpage\fi\fi\fi}
\makeatother
